(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),s=(a(100),a(8)),o=a(6),i=a(10),u=a(11),p=a(12),m=a(30),d=(a(101),a(14)),h=a(9),f=a.n(h),g=a(158),E=a(74),v=a.n(E),b=a(72),y=a.n(b),O=function(e){var t=function(){window.history.back()};return r.a.createElement("nav",{className:"navbar",id:"navbar"},function(){if(e.showBackNavButton)return r.a.createElement(g.a,{className:"back-btn",onClick:t},r.a.createElement(y.a,null))}(e.showBackNavButton),r.a.createElement("div",{className:"nav-title"},e.pageTitle),r.a.createElement(d.b,{className:"profileIcon",onClick:function(){f.a.delete("/api/auth/logout").then((function(){e.setUser(null)}))},to:"/"},r.a.createElement(v.a,null)))},j=a(45),k=a(162),N=a(163),S=a(77),P=a.n(S),w=a(78),C=a.n(w),D=a(79),T=a.n(D),B=a(80),_=a.n(B);function x(){var e=r.a.useState(0),t=Object(j.a)(e,2),a=t[0],n=t[1];return r.a.createElement(k.a,{value:a,className:"bottom-nav",id:"bottom-nav",onChange:function(e,t){n(t)},showLabels:!0},r.a.createElement(N.a,{component:d.b,to:"/",label:"Home",icon:r.a.createElement(P.a,null)}),r.a.createElement(N.a,{component:d.b,label:"Messages",to:"/posts",icon:r.a.createElement(C.a,null)}),r.a.createElement(N.a,{component:d.b,label:"Calender",to:"/calender",icon:r.a.createElement(T.a,null)}),r.a.createElement(N.a,{component:d.b,label:"Documents",to:"/files",icon:r.a.createElement(_.a,null)}))}var A=void 0,M=function(){f.a.delete("/api/auth/logout").then((function(){A.props.setUser(null)}))},U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log("Profile Data",this.props),r.a.createElement("div",null,"Hello Profile!",r.a.createElement(d.b,{className:"profileIcon",onClick:M},"Logout"))}}]),t}(n.Component),L=a(164),I=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(L.a,null,r.a.createElement(U,{profile:this.props,setUser:this.setUser}))}}]),t}(n.Component),z=a(165),H=a(166),F=a(82),W=a.n(F),R=a(84),q=a.n(R),J=a(83),V=a.n(J),Z=a(81),$=a.n(Z),G=function(e){var t=e.data;return r.a.createElement(d.b,{to:{pathname:"/posts/".concat(t._id),data:t}},r.a.createElement(z.a,{key:t._id},r.a.createElement("img",{src:t.image,alt:"ticket"}),r.a.createElement("div",{className:"bg-overlay"}),r.a.createElement(H.a,null,r.a.createElement("div",{className:"post-title"},t.title),r.a.createElement("div",{className:"post-status"},r.a.createElement("div",{className:"post-status-icon"}," ",function(){switch(t.status){case"open":return r.a.createElement($.a,{fontSize:"small"});case"accepted":return"accepted";case"in progress":return r.a.createElement(W.a,{fontSize:"small"});case"done":return r.a.createElement(V.a,{fontSize:"small"});default:return"nix"}}()),r.a.createElement("div",{className:"post-status-time"},function(e){var t=new Date(e),a=new Date,n=Math.abs(a-t)/1e3,r=Math.floor(n/86400);n-=86400*r;var c=Math.floor(n/3600);n-=3600*c;var l=Math.floor(n/60);return n-=60*l,r>1?"".concat(r,"d"):c>1?"".concat(c,"h"):"".concat(l,"m")}(t.created_at))))))},K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[]},a.getData=function(){f.a.get("/api/posts?property=".concat(a.props.selectedProperty)).then((function(e){a.setState({posts:e.data})}))},a.getNewestPosts=function(){f.a.get("/api/posts?sortBy=created_at").then((function(e){a.setState({posts:e.data})}))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t,a){e.selectedProperty!==this.props.selectedProperty&&this.getData()}},{key:"render",value:function(){var e=this.state.posts;return console.log("property: ",this.posts),r.a.createElement("div",{className:"posts-wrapper"},r.a.createElement(d.b,{to:"/new-post"},r.a.createElement(z.a,{id:"new-post"},r.a.createElement(H.a,null,r.a.createElement(q.a,{style:{fontSize:"5rem"}})))),e.map((function(e){return r.a.createElement(G,{key:e._id,data:e})})))}}]),t}(n.Component),Q=a(167),X=a(168),Y=a(37),ee=a.n(Y),te=Object(Q.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflow:"hidden"},gridList:{flexWrap:"nowrap",textAlign:"left",transform:"translateZ(0)",margin:"0px"},title:{backgroundColor:"white"},card:{backgroundColor:"#335CFF",color:"#f7f7f7",textAlgin:"left",height:"160px",minWidth:"90px"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}));function ae(e){var t=te();return r.a.createElement(L.a,{className:"announcementContainer"},r.a.createElement(X.a,{className:t.gridList,cols:.5},e.announcements.map((function(e){return r.a.createElement(d.b,{key:e._id,to:"/announcement/".concat(e._id)},r.a.createElement(z.a,null,r.a.createElement(H.a,{className:t.card},r.a.createElement("div",{className:"announcement-title"},e.title),r.a.createElement("div",{className:"announcement-content"}),r.a.createElement("div",{className:"post-status"},r.a.createElement("p",null),r.a.createElement("div",{className:"announcement-time"},r.a.createElement(ee.a,{date:e.created_at}))))))}))))}var ne=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={announcements:[]},a.getData=function(){f.a.get("/api/announcements?property=".concat(a.props.selectedProperty)).then((function(e){a.setState({announcements:e.data})}))},a.getNewestAnnouncements=function(){f.a.get("/api/announcements?sortBy=created_at").then((function(e){a.setState({announcements:e.data})}))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t,a){e.selectedProperty!==this.props.selectedProperty&&this.getData()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ae,{announcements:this.state.announcements}))}}]),t}(n.Component),re=a(179),ce=a(177),le=a(85),se=a.n(le),oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.componentDidMount=function(){console.log("dashboard props:",a.props),a.props.backButton.off(),a.props.setPageTitle("House Log")},a.handlePropertySelect=function(e){a.props.setSelectedProperty(e.target.value)},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(L.a,null,r.a.createElement("div",{className:"dashboardHeader"},r.a.createElement("p",null,r.a.createElement(se.a,{className:"locationDropown"}),r.a.createElement(re.a,{className:"locationDropown"},r.a.createElement(ce.a,{native:!0,value:this.props.selectedProperty,onChange:this.handlePropertySelect,inputProps:{name:"property",id:"age-native-simple"}},function(){var t;if(e.props.user&&e.props.user.property)return null===(t=e.props)||void 0===t?void 0:t.user.property.map((function(e,t){return r.a.createElement("option",{value:e._id,key:t},"".concat(e.property_street,", ").concat(e.property_postal))}))}())))),r.a.createElement(ne,{selectedProperty:this.props.selectedProperty}),r.a.createElement("p",null,"Messages"),r.a.createElement(K,Object.assign({},this.props,{selectedProperty:this.props.selectedProperty})))}}]),t}(n.Component),ie=a(17),ue=a(178),pe=a(171),me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(ie.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),f.a.post("/api/auth/login",{email:a.state.email,password:a.state.password}).then((function(e){a.props.setUser(e.data),a.props.history.push("/"),console.log(e)})).catch((function(e){a.setState({message:e.message})}))},a.state={email:"",password:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(L.a,{className:"login"},r.a.createElement("div",{className:"loginHeader"},r.a.createElement("h3",null,"House Log")),r.a.createElement("div",{className:"loginSubHeader"},r.a.createElement("h4",null,"Manage properties efficiently.")),this.state.message?r.a.createElement("div",null,e.state.message):"",r.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"on"},r.a.createElement(re.a,null,r.a.createElement("div",{className:"loginEmail"},r.a.createElement(ue.a,{name:"email",id:"email",type:"email",label:"E-Mail",variant:"filled",onChange:this.handleChange,required:!0,autoComplete:"current-email"}))),r.a.createElement(re.a,null,r.a.createElement("div",{className:"loginPassword"},r.a.createElement(ue.a,{name:"password",id:"password",type:"password",label:"Password",variant:"filled",onChange:this.handleChange,required:!0,autoComplete:"current-password"}))),r.a.createElement("div",{className:"loginButton"},r.a.createElement(pe.a,{size:"large",color:"inherit",type:"submit"},"Login"))))}}]),t}(n.Component),de=a(128),he=a(172),fe=a(42),ge=a.n(fe),Ee=a(43),ve=a.n(Ee),be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={post:null},a.deletePost=function(){console.log("/api/posts/".concat(a.state.post._id)),f.a.delete("/api/posts/".concat(a.state.post._id)).then((function(e){return a.props.history.push("/")})).catch((function(e){return console.log(e)}))},a.editPost=function(){a.props.history.push("/posts/".concat(a.state.post._id,"/edit"))},a.handleUpvote=function(){var e=a.props.match.params.postId;f.a.post("/api/posts/".concat(e,"/upvote")).then((function(e){a.setState({post:e.data})}))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.postId;this.props.backButton.on(),this.props.setPageTitle("Message"),this.props.location.data?this.setState({post:this.props.location.data}):f.a.get("/api/posts/".concat(t)).then((function(t){e.setState({post:t.data})}))}},{key:"render",value:function(){if(console.log("props.user",this.props.user),console.log("state.post",this.state.post),!this.state.post)return"loAding";var e=this.state.post;return r.a.createElement(L.a,{className:"post-detail"},r.a.createElement(de.a,{elevation:1,variant:"outlined",className:"post-image-wrapper"},r.a.createElement("img",{src:null===e||void 0===e?void 0:e.image,alt:"ticket"})),this.props.user._id===this.state.post.author._id||"moderator"===this.props.user.role||"admin"===this.props.user.role?r.a.createElement("div",{className:"post-detail-action-icons"},r.a.createElement(g.a,{"aria-label":"delete",onClick:this.deletePost},r.a.createElement(ge.a,{fontSize:"large"})),r.a.createElement(g.a,{"aria-label":"edit",onClick:this.editPost},r.a.createElement(ve.a,{fontSize:"large"}))):"",r.a.createElement(he.a,null),r.a.createElement("div",{className:"post-detail-title "},e.title),r.a.createElement("div",{className:"post-detail-content"},e.content),r.a.createElement("div",{className:"post-detail-author"},e.author.lastName,",",e.author.firstName))}}]),t}(n.Component),ye=a(86),Oe=a(175),je=a(176),ke=a(181),Ne=a(182),Se=a(173),Pe=a(174),we=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:null,content:"",image:"",photo:null,private:!0,transfering:!1,message:""},a.handleFileChange=function(e){e.preventDefault(),a.setState({photo:e.target.files[0],photo_url:URL.createObjectURL(e.target.files[0])})},a.handleSwitch=function(e){a.setState(Object(ie.a)({},e.target.name,e.target.checked))},a.handleDelete=function(e){a.setState({photo:null,photo_url:null})},a.handleChange=function(e){a.setState(Object(ie.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=new FormData;t.set("title",a.state.title),t.set("content",a.state.content),t.set("private",a.state.private),t.set("property",a.props.selectedProperty),t.append("image",a.state.photo),t.set("imageUrl",a.state.image);var n={headers:{"content-type":"multipart/form-data"}};if(a.setState({transfering:!0}),a.props.edit){var r=a.props.match.params.postId;f.a.put("/api/posts/".concat(r),t,n).then((function(e){a.props.history.push("/posts/".concat(e.data._id))})).catch((function(e){console.log(e),a.setState({transfering:!1,message:e})}))}else f.a.post("/api/posts",t,n).then((function(e){a.props.history.push("/posts/".concat(e.data._id))})).catch((function(e){console.log(e),a.setState({transfering:!1,message:e})}))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.backButton.on(),this.props.edit){this.props.setPageTitle("Edit Message");var t=this.props.match.params.postId;f.a.get("/api/posts/".concat(t)).then((function(t){console.log("response"),e.setState(Object(ye.a)({},t.data,{photo_url:t.data.image}))}))}else this.props.setPageTitle("New Message")}},{key:"render",value:function(){var e=this;console.log("Transfering: ",this.state.transfering);return this.state.transfering?r.a.createElement(L.a,null,r.a.createElement(Oe.a,null)):r.a.createElement(L.a,{className:"post-new"},r.a.createElement("form",{className:"create-post",onSubmit:this.handleSubmit},e.state.photo||e.state.photo_url?r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{variant:"outlined",elevation:1,className:"post-image-wrapper"},r.a.createElement("img",{src:e.state.photo_url})),r.a.createElement(g.a,{onClick:e.handleDelete},r.a.createElement(Se.a,null))):r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(de.a,{elevation:1,variant:"outlined",className:"post-image-wrapper"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},onChange:e.handleFileChange,id:"icon-button-file",type:"file"}),r.a.createElement(g.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(Pe.a,{color:"inherit",style:{color:"white"}})))),r.a.createElement(ue.a,{id:"standard-basic",label:"Title",type:"text",name:"title",value:this.state.title,onChange:this.handleChange}),r.a.createElement(ue.a,{id:"outlined-multiline-static",label:"Message",name:"content",multiline:!0,rows:"4",onChange:this.handleChange,value:this.state.content,defaultValue:"Type your message here!",variant:"outlined"}),r.a.createElement(je.a,null,r.a.createElement(ke.a,{control:r.a.createElement(Ne.a,{checked:this.state.private,onChange:this.handleSwitch,name:"private",value:"private"}),label:"Private Message? "}),r.a.createElement("div",{className:"help-text"},"(Only visible for the property management)")),r.a.createElement(pe.a,{variant:"contained",color:"primary",type:"submit"},"Send")))}}]),t}(n.Component),Ce=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.setPageTitle("Messages")}},{key:"render",value:function(){return r.a.createElement(L.a,null,r.a.createElement(K,Object.assign({},this.props,{selectedProperty:this.props.selectedProperty})))}}]),t}(n.Component),De=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={announcement:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.announcementId;f.a.get("/api/announcements/".concat(t)).then((function(t){e.setState({announcement:t.data})}))}},{key:"render",value:function(){var e=this.state.announcement;return e?r.a.createElement(L.a,null,r.a.createElement(z.a,{className:"announcementCardsDetail"},r.a.createElement(H.a,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,e.title),r.a.createElement("h5",null,"valid from ",new Date(e.announcedAt).toLocaleDateString("de-De")," until ",new Date(e.announcedAt).toLocaleDateString("de-De")),r.a.createElement("p",null,e.content))),r.a.createElement("div",{className:"announcement-detail-action-icons"},r.a.createElement(g.a,{"aria-label":"delete"},r.a.createElement(ge.a,{fontSize:"large"})),r.a.createElement(g.a,{"aria-label":"delete"},r.a.createElement(ve.a,{fontSize:"large"}))),r.a.createElement("div",{className:"post-detail-action-icons"},r.a.createElement("img",{src:e.image,alt:e.title})),r.a.createElement("div",{style:{fontSize:"10px"}},"last update: ",r.a.createElement(ee.a,{date:e.updated_at}))))):r.a.createElement("div",null,"Loading")}}]),t}(n.Component),Te=a(87),Be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a.updateSearch=function(e){console.log("SEARCH",e),a.setState({search:e})},a.changeText=function(e){a.setState({search:e.target.value})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.props.files.filter((function(e){return e.title.includes(t.state.search)})),r.a.createElement("div",null,r.a.createElement(de.a,{className:"calenderSerachBarContainer",component:"form"},r.a.createElement(Te.a,{className:"calenderSerachBar",placeholder:"Search documents",value:this.state.searchText,onChange:this.changeText})),e.map((function(e){return r.a.createElement(z.a,{key:e._id,className:"cards-fileList"},r.a.createElement(d.b,{key:e._id,to:"/files/".concat(e._id)},r.a.createElement("div",{className:"fileCards",key:e._id},r.a.createElement("div",{className:"fileCardsTitle"},r.a.createElement("h4",null,e.title," ")),r.a.createElement("div",{className:"fileCardsCategory"},r.a.createElement("h4",null,e.category)),r.a.createElement("div",{className:"fileCardsDate"},r.a.createElement("h3",null,new Date(e.announcedAt).toLocaleDateString("de-De"))))))})))}}]),t}(n.Component),_e=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={files:[]},a.getData=function(){f.a.get("/api/files").then((function(e){a.setState({files:e.data})}))},a.getNewestFiles=function(){f.a.get("/api/files?sortBy=created_at").then((function(e){a.setState({files:e.data})}))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.setPageTitle("Documents"),this.getData()}},{key:"render",value:function(){return r.a.createElement(L.a,null,r.a.createElement(Be,{files:this.state.files}))}}]),t}(n.Component),xe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={file:null},a.handleDelete=function(){var e=a.props.match.params.fileId;f.a.delete("/api/files/delete/".concat(e)).then((function(e){console.log("file deleted")})),a.props.history.push("/")},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setPageTitle("Document");var t=this.props.match.params.fileId;f.a.get("/api/files/".concat(t)).then((function(t){e.setState({file:t.data})}))}},{key:"render",value:function(){var e=this.state.file;return e?r.a.createElement("div",null,r.a.createElement(z.a,{className:"fileDetailCardOne"},r.a.createElement(H.a,{className:"filesDetailCardContent"},r.a.createElement("div",null,r.a.createElement("h2",null,e.title),r.a.createElement("h4",null,e.category),r.a.createElement("h5",null,"last update: ",new Date(e.updated_at).toLocaleDateString("de-De"))),r.a.createElement("p",null,e.content),r.a.createElement("div",{className:"file-detail-action-icons"},r.a.createElement(g.a,{onClick:this.handleDelete,"aria-label":"delete"},r.a.createElement(ge.a,{fontSize:"large"})),r.a.createElement(g.a,{"aria-label":"edit"},r.a.createElement(ve.a,{fontSize:"large"}))," "))),r.a.createElement(z.a,{className:"fileDetailCardTwo"},r.a.createElement("img",{id:"img",src:e.url,alt:e.title}))):r.a.createElement("div",null,"Loading")}}]),t}(n.Component),Ae=Object(m.e)(xe),Me=a(27),Ue=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a.updateSearch=function(e){console.log("SEARCH",e),a.setState({search:e})},a.changeText=function(e){a.setState({search:e.target.value})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.props.calenders.filter((function(e){return e.title.includes(t.state.search)})),r.a.createElement("div",null,r.a.createElement(de.a,{className:"calenderSerachBarContainer",component:"form"},r.a.createElement(Te.a,{className:"calenderSerachBar",placeholder:"Search calender",value:this.state.searchText,onChange:this.changeText})),e.map((function(e){return r.a.createElement(d.b,{key:e._id,to:"/files/".concat(e._id)},r.a.createElement("div",{className:"calenderCards",key:e._id},r.a.createElement(ee.a,{className:"calenderCardsDate",date:e.announcedAt}),r.a.createElement(ee.a,{className:"calenderCardsDate",date:e.dueDate}),r.a.createElement("div",{className:"calenderCardsTitle"},r.a.createElement("h4",null,e.title," "))))})))}}]),t}(n.Component),Le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={calenders:[]},a.getData=function(){f.a.get("/api/announcements?property=".concat(a.props.selectedProperty)).then((function(e){a.setState({calenders:e.data},(function(){f.a.get("/api/posts?property=".concat(a.props.selectedProperty)).then((function(e){a.setState({calenders:[].concat(Object(Me.a)(a.state.calenders),Object(Me.a)(e.data))})}))}))}))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.setPageTitle("Calendar"),this.getData()}},{key:"render",value:function(){var e=Object(Me.a)(this.state.calenders).sort((function(e,t){var a=t.announcedAt?"announcedAt":"dueDate",n=e.announcedAt?"announcedAt":"dueDate";return new Date(e[n])-new Date(t[a])}));return r.a.createElement(L.a,null,r.a.createElement(Ue,{calenders:e}))}}]),t}(n.Component),Ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user,pageTitle:"",backNavButton:!1},a.setUser=function(e){null===e?a.setState({user:null,selectedProperty:null}):a.setState({user:e,selectedProperty:e.property[0]._id})},a.backButtonOn=function(){console.log("backbutton on"),a.setState({backNavButton:!0})},a.backButtonOff=function(){console.log("backbutton off"),a.setState({backNavButton:!1})},a.setPageTitle=function(e){a.setState({pageTitle:e})},a.setSelectedProperty=function(e){a.setState({selectedProperty:e})},a.componentDidMount=function(){a.setPageTitle("House Log"),a.props.user&&a.setUser(a.props.user)},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;if(!this.state.user)return r.a.createElement("div",{className:"App"},r.a.createElement(me,{history:this.props.history,setUser:this.setUser}));var t={on:this.backButtonOn,off:this.backButtonOff};return r.a.createElement("div",{className:"App"},r.a.createElement(O,{setUser:this.setUser,showBackNavButton:this.state.backNavButton,pageTitle:this.state.pageTitle,user:this.state.user}),r.a.createElement(m.a,{exact:!0,path:"/",render:function(a){return r.a.createElement(oe,Object.assign({},a,{backButton:t,setPageTitle:e.setPageTitle,selectedProperty:e.state.selectedProperty,setSelectedProperty:e.setSelectedProperty,user:e.state.user}))}}),r.a.createElement(m.a,{exact:!0,path:"/announcement/:announcementId",render:function(e){return r.a.createElement(De,e)}}),r.a.createElement(m.a,{exact:!0,path:"/new-post",render:function(a){return r.a.createElement(we,Object.assign({},a,{backButton:t,setPageTitle:e.setPageTitle,selectedProperty:e.state.selectedProperty}))}}),r.a.createElement(m.a,{exact:!0,path:"/posts/:postId",render:function(a){return r.a.createElement(be,Object.assign({},a,{backButton:t,setPageTitle:e.setPageTitle,user:e.state.user}))}}),r.a.createElement(m.a,{exact:!0,path:"/posts/:postId/edit",render:function(a){return r.a.createElement(we,Object.assign({},a,{backButton:t,setPageTitle:e.setPageTitle,selectedProperty:e.state.selectedProperty,edit:!0}))}}),r.a.createElement(m.a,{exact:!0,path:"/posts",render:function(t){return r.a.createElement(Ce,Object.assign({},t,{selectedProperty:e.state.selectedProperty,setPageTitle:e.setPageTitle}))}}),r.a.createElement(m.a,{exact:!0,path:"/calender",render:function(t){return r.a.createElement(Le,Object.assign({},t,{selectedProperty:e.state.selectedProperty,setPageTitle:e.setPageTitle}))}}),r.a.createElement(m.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(I,Object.assign({},t,{setUser:e.setUser,showBackNavButton:e.state.backNavButton,pageTitle:e.state.pageTitle,user:e.state.user}))}}),r.a.createElement(m.a,{exact:!0,path:"/files",render:function(t){return r.a.createElement(_e,Object.assign({},t,{setPageTitle:e.setPageTitle}))}}),r.a.createElement(m.a,{exact:!0,path:"/files/:fileId",render:function(t){return r.a.createElement(Ae,Object.assign({},t,{setPageTitle:e.setPageTitle}))}}),r.a.createElement(x,{className:"bottom-nav"}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.get("/api/auth/loggedin").then((function(e){l.a.render(r.a.createElement(d.a,null,r.a.createElement(Ie,{user:e.data})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,t,a){e.exports=a(127)}},[[95,1,2]]]);
//# sourceMappingURL=main.bedc1311.chunk.js.map