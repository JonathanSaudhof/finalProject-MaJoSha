(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(15),r=a.n(c),o=(a(97),a(9)),s=a(7),i=a(11),u=a(12),m=a(13),d=a(33),p=(a(98),a(17)),h=a(8),f=a.n(h),E=a(151),g=a(71),v=a.n(g),b=function(e){var t=function(){window.history.back()};return l.a.createElement("nav",{className:"navbar",id:"navbar"},function(){if(e.showBackNavButton)return l.a.createElement(E.a,{className:"back-btn",onClick:t},l.a.createElement(v.a,null))}(e.showBackNavButton),l.a.createElement("div",{className:"nav-title"},e.pageTitle),l.a.createElement(p.b,{onClick:function(){f.a.delete("/api/auth/logout").then((function(){e.setUser(null)}))},to:"/"},"Logout"))},y=a(41),O=a(155),j=a(156),N=a(75),k=a.n(N),w=a(76),C=a.n(w),D=a(77),S=a.n(D),B=a(78),x=a.n(B);function _(){var e=l.a.useState(0),t=Object(y.a)(e,2),a=t[0],n=t[1];return l.a.createElement(O.a,{value:a,className:"bottom-nav",id:"bottom-nav",onChange:function(e,t){n(t)},showLabels:!0},l.a.createElement(j.a,{component:p.b,to:"/",label:"Home",icon:l.a.createElement(k.a,null)}),l.a.createElement(j.a,{label:"Messages",icon:l.a.createElement(C.a,null)}),l.a.createElement(j.a,{component:p.b,label:"Calender",to:"/calender",icon:l.a.createElement(S.a,null)}),l.a.createElement(j.a,{component:p.b,label:"Documents",to:"/files",icon:l.a.createElement(x.a,null)}))}var M=a(157),T=a(158),A=a(80),L=a.n(A),P=a(82),I=a.n(P),F=a(81),U=a.n(F),z=a(79),R=a.n(z),H=function(e){var t=e.data;return l.a.createElement(p.b,{to:{pathname:"/posts/".concat(t._id),data:t}},l.a.createElement(M.a,{key:t._id},l.a.createElement("img",{src:t.image,alt:"ticket"}),l.a.createElement("div",{className:"bg-overlay"}),l.a.createElement(T.a,null,l.a.createElement("div",{className:"post-title"},t.title),l.a.createElement("div",{className:"post-status"},l.a.createElement("div",{className:"post-status-icon"}," ",function(){switch(t.status){case"open":return l.a.createElement(R.a,{fontSize:"small"});case"accepted":return"accepted";case"in progress":return l.a.createElement(L.a,{fontSize:"small"});case"done":return l.a.createElement(U.a,{fontSize:"small"});default:return"nix"}}()),l.a.createElement("div",{className:"post-status-time"},function(e){var t=new Date(e),a=new Date,n=Math.abs(a-t)/1e3,l=Math.floor(n/86400);n-=86400*l;var c=Math.floor(n/3600);n-=3600*c;var r=Math.floor(n/60);return n-=60*r,l>1?"".concat(l,"d"):c>1?"".concat(c,"h"):"".concat(r,"m")}(t.created_at))))))},W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={posts:[]},a.getData=function(){f.a.get("/api/posts").then((function(e){a.setState({posts:e.data})}))},a.getNewestPosts=function(){f.a.get("/api/posts?sortBy=created_at").then((function(e){a.setState({posts:e.data})}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state.posts;return l.a.createElement("div",{className:"posts-wrapper"},l.a.createElement("p",null,"Messages"),l.a.createElement(p.b,{to:"/posts/new"},l.a.createElement(M.a,{id:"new-post"},l.a.createElement(T.a,null,l.a.createElement(I.a,{style:{fontSize:"5rem"}})))),e.map((function(e){return l.a.createElement(H,{key:e._id,data:e})})))}}]),t}(n.Component),q=a(159),J=a(160),Z=Object(q.a)((function(e){return{root:{},gridList:{flexWrap:"nowrap",textAlign:"left",transform:"translateZ(0)"},title:{backgroundColor:"white"},card:{backgroundColor:"#335CFF",color:"#f7f7f7",textAlgin:"left",height:"175px"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}));function $(e){var t=Z();return l.a.createElement("div",{className:t.root},l.a.createElement(J.a,{className:t.gridList,cols:.5},e.announcements.map((function(e){return l.a.createElement(p.b,{key:e._id,to:"/announcement/".concat(e._id)},l.a.createElement(M.a,null,l.a.createElement(T.a,{className:t.card},l.a.createElement("div",{className:"announcement-title"},e.title),l.a.createElement("div",{className:"announcement-content"}),l.a.createElement("div",{className:"post-status"},l.a.createElement("p",null),l.a.createElement("div",{className:"announcement-time"},new Date(e.created_at).toDateString())))))}))))}var G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={announcements:[]},a.getData=function(){console.log("getData()"),f.a.get("/api/announcements").then((function(e){a.setState({announcements:e.data})}))},a.getNewestAnnouncements=function(){f.a.get("/api/announcements?sortBy=created_at").then((function(e){a.setState({announcements:e.data})}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement($,{announcements:this.state.announcements}))}}]),t}(n.Component),K=a(161),Q=a(83),V=a.n(Q),X=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){console.log(a.props),a.props.backButton.off(),a.props.setPageTitle("House Log")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(K.a,null,l.a.createElement("div",{className:"dashboardHeader"},l.a.createElement("p",null," ",l.a.createElement(V.a,null),"Lobeckstra\xdfe 36-40, 10969 Berlin")),l.a.createElement(G,null),l.a.createElement(W,this.props))}}]),t}(n.Component),Y=a(18),ee=a(167),te=a(166),ae=a(162),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(Y.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),console.log("submit: "),console.log(a.state),f.a.post("/api/auth/login",{email:a.state.email,password:a.state.password}).then((function(e){console.log(e),a.props.setUser(e.data),a.props.history.push("/")})).catch((function(e){console.log(e)}))},a.state={email:"",password:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(K.a,{className:"login"},l.a.createElement("div",{className:"loginHeader"},l.a.createElement("h3",null,"Welcome to h.express")),l.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"on"},l.a.createElement(ee.a,null,l.a.createElement("div",{className:"loginEmail"},l.a.createElement(te.a,{name:"email",id:"email",type:"email",label:"E-Mail",variant:"filled",onChange:this.handleChange,required:!0,autoComplete:"current-email"}))),l.a.createElement(ee.a,null,l.a.createElement("div",{className:"loginPassword"},l.a.createElement(te.a,{name:"password",id:"password",type:"password",label:"Password",variant:"filled",onChange:this.handleChange,required:!0,autoComplete:"current-password"}))),l.a.createElement("div",{className:"loginButton"},l.a.createElement(ae.a,{size:"large",color:"inherit",type:"submit"},"Login"))))}}]),t}(n.Component),le=a(123),ce=a(163),re=a(84),oe=a.n(re),se=a(85),ie=a.n(se),ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={post:null},a.handleUpvote=function(){var e=a.props.match.params.postId;f.a.post("/api/posts/".concat(e,"/upvote")).then((function(e){a.setState({post:e.data})}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.postId;this.props.backButton.on(),this.props.location.data?this.setState({post:this.props.location.data}):f.a.get("/api/posts/".concat(t)).then((function(t){e.setState({post:t.data})}))}},{key:"render",value:function(){if(console.log("render"),!this.state.post)return"loading";var e=this.state.post;return l.a.createElement(K.a,{className:"post-detail"},l.a.createElement(le.a,{elevation:1,variant:"outlined"},l.a.createElement("img",{src:null===e||void 0===e?void 0:e.image,alt:"postname"})),l.a.createElement("div",{className:"post-detail-action-icons"},l.a.createElement(E.a,{"aria-label":"delete"},l.a.createElement(oe.a,{fontSize:"large"})),l.a.createElement(E.a,{"aria-label":"delete"},l.a.createElement(ie.a,{fontSize:"large"}))),l.a.createElement(ce.a,null),l.a.createElement("div",{className:"post-detail-title "},e.title),l.a.createElement("div",{className:"post-detail-content"},e.content),l.a.createElement("div",{className:"post-detail-author"},e.author))}}]),t}(n.Component),me=a(169),de=a(170),pe=a(164),he=a(165),fe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={title:null,content:"",image:"",photo:null,private:!0},a.handleFileChange=function(e){e.preventDefault(),console.log(e.target.files[0]),a.setState({photo:URL.createObjectURL(e.target.files[0])})},a.handleSwitch=function(e){a.setState(Object(Y.a)({},e.target.name,e.target.checked))},a.handleDelete=function(e){console.log(e),a.setState({photo:null})},a.handleSubmit=function(e){e.preventDefault(),console.log("Form submitted"),f.a.post("/api/posts",{title:a.state.title,content:a.state.content}).then((function(){console.log("Response received, calling getData in <Posts/>"),a.setState({title:"",content:"",type:"text"})}))},a.showImageMenu=function(e){console.log(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.backButton.on(),this.props.setPageTitle("New Message")}},{key:"render",value:function(){var e=this;return l.a.createElement(K.a,{className:"post-new"},l.a.createElement("form",{className:"create-post",onSubmit:this.handleSubmit},e.state.photo?l.a.createElement(le.a,{elevation:1,variant:"outlined",onClick:e.showImageMenu},l.a.createElement("img",{src:e.state.photo,alt:e.state.photo}),l.a.createElement(E.a,{onClick:e.handleDelete},l.a.createElement(pe.a,null))):l.a.createElement(le.a,{elevation:1,variant:"outlined"},l.a.createElement("input",{accept:"image/*",style:{display:"none"},onChange:e.handleFileChange,id:"icon-button-file",type:"file"}),l.a.createElement("label",{htmlFor:"icon-button-file"},l.a.createElement(E.a,{color:"primary","aria-label":"upload picture",component:"span"},l.a.createElement(he.a,null)))),l.a.createElement(me.a,{control:l.a.createElement(de.a,{checked:this.state.private,onChange:this.handleSwitch,name:"private",value:"private"}),label:"private"}),l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{id:"title",name:"title",value:this.state.title,onChange:this.handleChange}),l.a.createElement("p",null," "),l.a.createElement("label",{htmlFor:"content"},"Content"),l.a.createElement("input",{id:"content",name:"content",value:this.state.content,onChange:this.handleChange}),l.a.createElement("button",null,"Create new Post")))}}]),t}(n.Component),Ee=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={announcement:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.announcementId;f.a.get("/api/announcements/".concat(t)).then((function(t){e.setState({announcement:t.data})}))}},{key:"render",value:function(){var e=this.state.announcement;return e?l.a.createElement("div",{className:"announcementCardsContainer"},l.a.createElement(M.a,{className:"announcementCardsDetail"},l.a.createElement(T.a,null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",null,e.title),l.a.createElement("p",null,e.content),l.a.createElement("p",null,"updated on ",new Date(e.updated_at).toDateString()))))),l.a.createElement(M.a,{className:"announcementCardsDetail"},l.a.createElement(T.a,null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("img",{src:e.image,alt:e.title})))))):l.a.createElement("div",null,"Loading")}}]),t}(n.Component),ge=a(168),ve=a(50),be=a.n(ve),ye=Object(q.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}})),Oe=function(e){var t=ye();return l.a.createElement("div",null,l.a.createElement(le.a,{component:"form",className:t.root},l.a.createElement(ge.a,{className:t.input,placeholder:"Search all documents",inputProps:{"aria-label":"search all files"}}),l.a.createElement(E.a,{type:"submit",className:t.iconButton,"aria-label":"search"},l.a.createElement(be.a,null))),e.files.map((function(e){return l.a.createElement(p.b,{key:e._id,to:"/files/".concat(e._id)},l.a.createElement("div",{className:"fileCards",key:e._id},l.a.createElement("div",{className:"fileCardsTitle"},l.a.createElement("h4",null,e.title," ")),l.a.createElement("div",{className:"fileCardsCategory"},l.a.createElement("h4",null,e.category)),l.a.createElement("div",{className:"fileCardsTitle"},l.a.createElement("h3",null,new Date(e.created_at).toLocaleDateString("de-De")))))})))},je=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={files:[]},a.getData=function(){f.a.get("/api/files").then((function(e){a.setState({files:e.data})}))},a.getNewestFiles=function(){f.a.get("/api/files?sortBy=created_at").then((function(e){a.setState({files:e.data})}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return console.log("< Files/> RENDER",this.state.files),l.a.createElement(K.a,null,l.a.createElement(Oe,{files:this.state.files}))}}]),t}(n.Component),Ne=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={file:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.fileId;f.a.get("/api/files/".concat(t)).then((function(t){e.setState({file:t.data})}))}},{key:"render",value:function(){var e=this.state.file;return e?l.a.createElement("div",{className:"fileCardsContainer"},l.a.createElement(M.a,{className:"fileCardsDetail"},l.a.createElement(T.a,null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",null,e.title),l.a.createElement("h4",null,e.category),l.a.createElement("h5",null,"last update: ",new Date(e.updated_at).toLocaleDateString("de-De")),l.a.createElement("p",null,"Since many of the waste consist of man-made materials, they decompose in landfills for hundreds of years, poisoning everything around. However there is only one method that helps to avoid destroying nature and not harmful to human health - recycling. To manage the smooth process of recycling we need to make our own contribution - please separate waste manually at the household."))))),l.a.createElement(M.a,{className:"fileCardsDetail"},l.a.createElement(T.a,null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("img",{src:e.url,alt:e.title})))))):l.a.createElement("div",null,"Loading")}}]),t}(n.Component),ke=a(28),we=Object(q.a)((function(e){return{root:{padding:"2px 4px",display:"flex",textAlign:"left",marginBottom:"10px"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}})),Ce=function(e){var t=we();return l.a.createElement("div",null,l.a.createElement(le.a,{component:"form",className:t.root},l.a.createElement(ge.a,{className:t.input,placeholder:"Search calender",inputProps:{"aria-label":"search calender"}}),l.a.createElement(E.a,{type:"submit",className:t.iconButton,"aria-label":"search"},l.a.createElement(be.a,null))),e.calenders.map((function(e){return l.a.createElement(p.b,{key:e._id,to:"/files/".concat(e._id)},l.a.createElement("div",{className:"calenderCards",key:e._id},l.a.createElement("div",{className:"calenderCardsTitle"},l.a.createElement("p",null,new Date(e.created_at).toDateString("de-De"))),l.a.createElement("div",{className:"calenderCardsTitle"},l.a.createElement("h4",null,e.title," "))))})))},De=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={calenders:[]},a.getData=function(){f.a.get("/api/announcements").then((function(e){a.setState({calenders:e.data},(function(){f.a.get("/api/posts").then((function(e){console.log(e.data),a.setState({calenders:[].concat(Object(ke.a)(a.state.calenders),Object(ke.a)(e.data))})}))}))}))},a.getNewestCalenders=function(){f.a.get("/api/files?sortBy=created_at").then((function(e){a.setState({calenders:e.data})}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return console.log("< Calenders/> RENDER",this.state.calenders),l.a.createElement(K.a,null,l.a.createElement(Ce,{calenders:this.state.calenders}))}}]),t}(n.Component),Se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={user:a.props.user,pageTitle:"",backNavButton:!1},a.setUser=function(e){a.setState({user:e})},a.backButtonOn=function(){console.log("backbutton on"),a.setState({backNavButton:!0})},a.backButtonOff=function(){console.log("backbutton off"),a.setState({backNavButton:!1})},a.setPageTitle=function(e){a.setState({pageTitle:e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(!this.state.user)return l.a.createElement("div",{className:"App"},l.a.createElement(ne,{history:this.props.history,setUser:this.setUser}));var t={on:this.backButtonOn,off:this.backButtonOff};return l.a.createElement("div",{className:"App"},l.a.createElement(b,{setUser:this.setUser,showBackNavButton:this.state.backNavButton,pageTitle:this.state.pageTitle,user:this.state.user}),l.a.createElement(d.a,{exact:!0,path:"/",render:function(a){return l.a.createElement(X,Object.assign({},a,{backButton:t,setPageTitle:e.setPageTitle}))}}),l.a.createElement(d.a,{exact:!0,path:"/announcement/:announcementId",render:function(e){return l.a.createElement(Ee,e)}}),l.a.createElement(d.a,{exact:!0,path:"/posts/new",render:function(a){return l.a.createElement(fe,Object.assign({},a,{backButton:t,setPageTitle:e.setPageTitle}))}}),l.a.createElement(d.a,{exact:!0,path:"/posts/:postId",render:function(e){return l.a.createElement(ue,Object.assign({},e,{backButton:t}))}}),l.a.createElement(d.a,{exact:!0,path:"/calender",render:function(e){return l.a.createElement(De,e)}}),l.a.createElement(d.a,{exact:!0,path:"/files",render:function(e){return l.a.createElement(je,e)}}),l.a.createElement(d.a,{exact:!0,path:"/files/:fileId",render:function(e){return l.a.createElement(Ne,e)}}),l.a.createElement(_,{className:"bottom-nav"}))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.get("/api/auth/loggedin").then((function(e){r.a.render(l.a.createElement(p.a,null,l.a.createElement(Se,{user:e.data})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,a){e.exports=a(122)},97:function(e,t,a){},98:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.72de932a.chunk.js.map